<!--
    James Morimoto
    TCSS460 Assignment three
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 3</title>
    <!-- add a reference to the external stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Jquery Import -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <!-- HTML code for displaying the navigation bar on the top -->
    <nav class="navbar navbar-dark bg-primary mb-3">
        <div class="container">
            <a href="#" class="navbar-brand">Physics Calculator</a>
        </div>
    </nav>

    <!-- HTML code for displaying the search container -->
    <div class="container mainContainer">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <!-- Home Tab -->
            <li class="nav-item" role="presentation">
                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
                    aria-selected="true">Home</a>
            </li>
            <!-- Tab that wil take a city and give the lat and long -->
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="searchPanel-tab" data-toggle="tab" href="#searchPanel" role="tab" aria-controls="searchPanel"
                    aria-selected="true">Displacement</a>
            </li>
            <!--Tab that will produce a random dog fact -->
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="factPanel-tab" data-toggle="tab" href="#factPanel" role="tab" aria-controls="factPanel"
                    aria-selected="true">Velocity</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="factPanel-tab" data-toggle="tab" href="#factPanel" role="tab" aria-controls="factPanel"
                    aria-selected="true">Kinetic Energy</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="factPanel-tab" data-toggle="tab" href="#factPanel" role="tab" aria-controls="factPanel"
                    aria-selected="true">Gravitational Potential</a>
            </li>
        </ul>

        <!-- Stores the content for each tab -->
        <div class="tab-content" id="myTabContent">
            <!-- Home tab -->
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                <br>
                <div class="card border-primary mb-3">
                    <div class="card-body">
                        <!-- Message for user on how the site works -->
                        <h3>
                            Welcome to my website! This website will provide the means to calculate various physics formulas!
                        </h3>
                    </div>
                </div>
            </div>

            <!-- Displacement Tab -->
            <div class="tab-pane fade show " id="searchPanel" role="tabpanel" aria-labelledby="searchPanel-tab">
                <br>
                <div class="card border-primary mb-3">
                    <div class="card-header">Displacement</div>
                    <div class="card-body">
                        <p class="lead">Please enter the information below<datagrid></datagrid></p>
                        <!-- Takes input once the user submits. Will return coordinates if the city is valid-->
                        <input type="text" id="initVelo" class="form-control"
                            placeholder="the initial velocity">
                        <br>
                        <input type="text" id="accel" class="form-control"
                            placeholder="the acceleration">
                        <br>
                        <input type="text" id="time" class="form-control"
                            placeholder="the time">
                        <br>
                        <!-- Results will only be fetched once the button is clicked-->
                        <button type="submit" class="btn btn-primary" id="calcDis">Get Displacement</button>
                    </div>
                </div>
            </div>

            <!-- Velocity Tab -->
            <div class="tab-pane fade show " id="searchPanel" role="tabpanel" aria-labelledby="searchPanel-tab">
                <br>
                <div class="card border-primary mb-3">
                    <div class="card-header">Velocity</div>
                    <div class="card-body">
                        <p class="lead">Please enter the information below<datagrid></datagrid></p>
                        <!-- Takes input once the user submits. Will return coordinates if the city is valid-->
                        <input type="text" id="initVelo" class="form-control"
                            placeholder="the initial velocity">
                        <br>
                        <input type="text" id="accel" class="form-control"
                            placeholder="the acceleration">
                        <br>
                        <input type="text" id="displace" class="form-control"
                            placeholder="the displacement">
                        <br>
                        <!-- Results will only be fetched once the button is clicked-->
                        <button type="submit" class="btn btn-primary" id="calcVel">Get Velocity</button>
                    </div>
                </div>
            </div>

            <!-- Kinetic Energy Tab -->
            <div class="tab-pane fade show " id="searchPanel" role="tabpanel" aria-labelledby="searchPanel-tab">
                <br>
                <div class="card border-primary mb-3">
                    <div class="card-header">Kinetic Energy</div>
                    <div class="card-body">
                        <p class="lead">Please enter the information below<datagrid></datagrid></p>
                        <!-- Takes input once the user submits. Will return coordinates if the city is valid-->
                        <input type="text" id="mass" class="form-control"
                            placeholder="the mass">
                        <br>
                        <input type="text" id="velo" class="form-control"
                            placeholder="the velocity">
                        <br>
                        <!-- Results will only be fetched once the button is clicked-->
                        <button type="submit" class="btn btn-primary" id="calcKin">Get Kinetic Energy</button>
                    </div>
                </div>
            </div>

            <!-- Gravitational Potential Tab -->
            <div class="tab-pane fade show " id="searchPanel" role="tabpanel" aria-labelledby="searchPanel-tab">
                <br>
                <div class="card border-primary mb-3">
                    <div class="card-header">Gravitational Potential</div>
                    <div class="card-body">
                        <p class="lead">Please enter the information below<datagrid></datagrid></p>
                        <!-- Takes input once the user submits. Will return coordinates if the city is valid-->
                        <input type="text" id="mass2" class="form-control"
                            placeholder="The Mass">
                        <br>
                        <input type="text" id="height" class="form-control"
                            placeholder="the height">
                        <br>
                        <!-- Results will only be fetched once the button is clicked-->
                        <button type="submit" class="btn btn-primary" id="calcGrav">Get Gravitational Potential</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal -->
    <div class="modal   bd-example-modal-sm" id="infoDialog" tabindex="-1" role="dialog" aria-labelledby="infoDialog"
        aria-hidden="true">
        <div class="modal-dialog  modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title"></div>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-justify">
                    <!-- enter details here -->
                    <div class="card">
                        <ul class="list-group">
                            <li class="list-group-item" id="co1"></li>
                            <li class="list-group-item" id="co2"></li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <p id="footer-info"></p>
                </div>
            </div>
        </div>
    </div>

    <script>

        // velocity
        $('#calcVel').click(async function() {
            // getting the variables for the calculation
            var u = $('#initVelo').val().trim();
            var a = $('#accel').val().trim();
            var s = $('#displace').val().trim();
            // checking to make sure they arent null
            if (u === "" || a === "" || t === "") {
                alert("one of the fields was not entered");
            } else {
                // url construction
                const url = `http://127.0.0.1:3000/velocity/${u}/${a}/${s}`

                console.log(url);

                // BIG ISSUE HERE NOT SURE WHY THE DATA ISNT BEING FETCHED
                const response = await fetch (url,  {
                    method: 'GET',
                    mode: 'no-cors',
                    credentials:"same-origin",
                    cache: "no-cache",
                });

                console.log(response);
                // reading data to json format
                const responseData = await response.json();

                console.log(responseData);

                infoDialog.style.display = "block";
                // displaying the data
                $('.modal-title').html("results");
                $('.col1').html("Answer: " + responseData.result);
            }
        });


        //displacement 
        $('#calcDis').click(async function() {
            // setting up the variables
            var u = $('#initVelo').val().trim();
            var a = $('#accel').val().trim();
            var t = $('#time').val().trim();

            // making sure none of the variables are null
            if (u === "" || a === "" || t === "") {
                alert("one of the fields was not entered");
            } else {
                // url contruction
                const url = `http://127.0.0.1:3000/displacement/${u}/${t}/${a}`

                console.log(url);
                // BIG ISSUE HERE NOT SURE WHY THE DATA ISNT BEING FETCHED
                const response = await fetch (url,  {
                    method: 'GET',
                    mode: 'no-cors',
                    credentials:"same-origin",
                    cache: "no-cache",
                });

                console.log(response);

                // reading data to json format
                const responseData = await response.json();

                console.log(responseData);

                infoDialog.style.display = "block";
                // displaying the data
                $('.modal-title').html("results");
                $('.col1').html("Answer: " + responseData.result);
            }
        });


        // kinetic energy
        $('#calcKin').click(async function() {
            // setting up the variables
            var m = $('#mass').val().trim();
            var v = $('#velo').val().trim();
            // making sure none of the variables are null
            if (m === "" || v === "") {
                alert("one of the fields was not entered");
            } else {
                // url construction
                const url = `http://127.0.0.1:3000/kinetic-energy/${m}/${v}`

                console.log(url);
                // BIG ISSUE HERE NOT SURE WHY THE DATA ISNT BEING FETCHED
                const response = await fetch (url,  {
                    method: 'GET',
                    mode: 'no-cors',
                    credentials:"same-origin",
                    cache: "no-cache",
                });

                console.log(response);
                // reading data into a json format
                const responseData = await response.json();

                console.log(responseData);

                infoDialog.style.display = "block";
                // displaying data
                $('.modal-title').html("results");
                $('.col1').html("Answer: " + responseData.result);
            }
        });

        // Calculating the gravitational potentionl
        $('#calcGrav').click(async function() {
            // setting up variables
            var m = $('#initVelo').val().trim();
            var h = $('#accel').val().trim();
            // doing a check to make sure the variables are not null
            if (m === "" || h === "") {
                alert("one of the fields was not entered");
            } else {
                // url construction
                const url = `http://127.0.0.1:3000/gravitational-potential/${m}/${h}`

                console.log(url);
                // BIG ISSUE HERE NOT SURE WHY THE DATA ISNT BEING FETCHED
                const response = await fetch (url,  {
                    method: 'GET',
                    mode: 'no-cors',
                    credentials:"same-origin",
                    cache: "no-cache",
                });

                console.log(response);
                // reading data into json format
                const responseData = await response.json();

                console.log(responseData);

                infoDialog.style.display = "block";
                // displaying data
                $('.modal-title').html("results");
                $('.col1').html("Answer: " + responseData.result);
            }
        });
        // retrieve mdoal
        var modal = document.getElementById("infoDialog");

        // retrieve span when closing the modal
        var span = document.getElementsByClassName("close")[0];

        // if user clicks on the closing icon (x), then clear modal
        span.onclick = function () {
            infoDialog.style.display = "none";
        }

        // if user clicks anywhere on page outside modal boundary, then clear modal
        window.onclick = function (event) {
            if (event.target == modal) {
                infoDialog.style.display = "none";
            }
        }
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>

</html>